/*! groupjs 2015-10-19 */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Grp=b()}):"object"==typeof exports?module.exports=b():a.Grp=b()}(this,function(){Object.create||(Object.create=function(a){function b(){}if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");return b.prototype=a,new b}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});var a={create:function(a){var b=Object.create(this);if(this.hasOwnProperty("parentNames")){b.parentNames=[];for(var c=this.parentNames.length,d=0;c>d;d++)b.parentNames.push(this.parentNames[d])}return this.hasOwnProperty("name")&&(b.hasOwnProperty("parentNames")||(b.parentNames=[]),b.parentNames.push(this.name),a||(a=this.name)),b.name=a,b},extend:function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];for(var c in b)this[c]=b[c]}},command:function(){var a=this;return function(b,c){return"function"==typeof a[b]?a[b](c):a[b]}},thisObj:function(){return this}},b=a.create("group");b.extend({create:function(b){var c=a.create.apply(this,arguments);return c._buildMemberList(),c},_buildMemberList:function(){if(this._memberList){if(!this.hasOwnProperty("_memberList")){var a=this._memberList;this._memberList={};for(var b in a){var c=a[b],d=c("create");d.group=this,this._memberList[b]=d.command()}}}else this._memberList={}},join:function(){for(var a=0;a<arguments.length;a++){var b=arguments[a],c=b.create(b.name);c.group=this,this._memberList[b.name]=c.command()}},call:function(a,b,c){var d;if(a in this._memberList)return(d=this._memberList[a])(b,c);var e=this._memberList;for(var f in e){var d=e[f];if("function"==typeof d){var g=e[f]("thisObj");if(g.hasOwnProperty("parentNames"))for(var h=g.parentNames,i=h.length,j=0;i>j;j++)a===h[j]&&d(b,c)}}},setCallToMember:function(a,c){function d(a,b){"function"==typeof b[a]?e[a]=b[a].bind(b):e[a]=b[a]}var e=this,f=this.call(a,"thisObj");if(c)d(c,f);else for(var g in f)g in b||d(g,f)}});var c={obj:a,group:b};return c});